This page will explain how I built and packaged SuperTuxKart on mac OS X.

For older versions, see [[Building STK 06 on OSX]]

In current SVN, STK is being ported to irrLicht. Please note that this is work-in-progress and '''not''' meant for casual users. Information below are notes i gathered about building STK with irrLicht.

= Getting Started =
* Install developer tools, either from the OS X Install DVD or from Apple's website

* symlink include folder of OpenGL framework to /usr/local/include/GL (Unix programs have an easier time finding it this way)
<pre>
    % sudo ln -s /System/Library/Frameworks/OpenGL.framework/Versions/A/Headers/ /usr/local/include/GL
</pre>
(you might need to create <TT>/usr/local/include/</TT> first if you never built and installed anything from source! <TT>sudo mkdir -p /usr/local/include/</TT>)


= Dependencies =
* Download [https://sourceforge.net/project/downloading.php?group_id=202302&filename=DepsFrameworks.zip&a=73468757 pre-built dependencies]
* Put the frameworks in [hard disk root]/Library/Frameworks

= irrLicht =
* Download irrLicht, and extract it.
Then build it using the provided Xcode project.

* copy ''libIrrlicht.a'' to ''/usr/local/lib''
<pre>
sudo cp ~/irrlicht-1.5/source/Irrlicht/MacOSX/build/Release/libIrrlicht.a /usr/local/lib/
</pre>
* copy ''include'' to ''/usr/local/include/irrlicht''
<pre>
sudo cp -R ~/irrlicht-1.5/include /usr/local/include/irrlicht
</pre>

= SuperTuxKart =

Build SuperTuxKart using the provided Xcode project (in /src/ide/)

= Running =
To be able to run, you'll need to help the executable find its data. Right-click on the executable in tree, choose get info, go the area about env variables.

Set a variable called <TT>SUPERTUXKART_DATADIR</TT> to <TT>$(PROJECT_DIR)/../../../</TT>

= Distributing =


The release build style will automatically build a 10.4-compatible, universal app bundle with data and frameworks inside


Run the following on the result .app to remove useless files :

<code>find . -name ".svn" -exec rm -rf '{}' > /dev/null \; 2> /dev/null
find . -name ".DS_Store" -exec rm -rf '{}' > /dev/null \; 2> /dev/null
find . -name "Makefile*" -exec rm -rf '{}' > /dev/null \; 2> /dev/null
</code>
